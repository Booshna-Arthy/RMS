<!-- <div class="pt-2">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/cms-library">{{commonLabels.labels.cmsLibrary}}</a></li>
      <li class="breadcrumb-item active">
        {{commonLabels.labels.contentFile}}</li>
    </ol>
  </nav>
</div> -->

<div class="row pt-4">
    <div class="col-lg-12 col-sm-12 p-0">
        <div class="table-responsive white-bg ">
            <table class="table table-striped">
                    <thead>
                    <tr class="th-boxshadow">
                        <th class="text-left">{{commonLabels.labels.file}}</th>
                        <th class="text-left">{{commonLabels.labels.fileSize}}</th>
                        <th class="text-left">{{commonLabels.labels.type}}</th>
                        <th class="text-left">{{commonLabels.labels.length}}</th>
                          <!-- <th class="text-left">{{commonLabels.labels.noofEmp}}</th> -->
                          <th class="text-center">{{commonLabels.labels.action}}</th>      
                    </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let file of fileList" class="table-desc-color">
                            <td class="text-left">{{file.fileName}}</td>
                            <td class="text-left">{{file.fileSize}}</td>
                            <td class="text-left">.{{file.fileExtension}}</td>
                            <td class="text-left">03.50</td>
                            <!-- <td class="text-left"><a href="#">100</a></td>      -->
                            <td class="text-center">
                              <a (click)="openEditVideo(editDocTemp,file,i)"><i class="fas fa-pencil-alt"aria-hidden="true"></i></a>
                             <a  (click)="getPermissionList(userList,file,i)" title="Edit"><i
                                                          class="fas fa-user-friends header-icon"></i></a>

                                <a (click)="removeDoc(deleteDocument,file.fileId,i)" title="Delete"><i class="fa fa-trash header-icon"></i></a>
                                <a *ngIf="file.fileUrl != 'Video'" (click)="openFileContent(file.fileUrl)"><i class="fa fa-eye header-icon" aria-hidden="true"
                                    title="View"></i></a>
                                <a *ngIf="file.fileUrl == 'Video'" (click)="viewTraningVideo(viewVideo,file.fileUrl)"><i class="fa fa-eye header-icon" aria-hidden="true"
                                        title="View"></i></a>
                            </td>                         
                        </tr>
                        <tr *ngIf="fileList && !fileList.length">
                          <td colspan="6">
                            <p class="text-center data-design p-5"><span class="nodata">
                                <i class="far fa-frown nodata-img"></i>{{commonLabels.labels.noData}}</span></p>
                          </td>
                        </tr>
                   
                    </tbody>
                </table>
        </div>
    </div>
    <div class="col-md-12 p-0 text-center mt-3">
        <button class="btn btn-primary creat-btn" (click)="location.back()">{{commonLabels.btns.back}}</button>
    </div>
</div>


<ng-template #viewVideo>
  <div class="modal-header pb-0">
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body text-center">
    <video controls class="video-play">
      <source src="{{uploadPath}}{{trainingVideoUrl}}" type="video/mp4" />
    </video>
  </div>
</ng-template>

<ng-template #deleteDocument>
  <div class="modal-header pb-0">
    <p class="hd-alg">{{commonLabels.labels.deleteDoc}}</p>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body text-center">
    <span class="text-content">{{commonLabels.labels.coursedeleteConfirmation}}</span>
    <div class="text-center mt-4">
      <button (click)="deleteDoc()" class="btn btn-primary creat-btn mr-3">{{commonLabels.btns.ok}}</button>
      <button type="button" class="btn btn-default"
        (click)="modalRef.hide()">{{commonLabels.btns.cancel}}</button>
    </div>
  </div>
</ng-template>

<ng-template #editDocTemp>
    <div class="modal-header pb-0">
        <p class="hd-alg">{{commonLabels.labels.permissionSet}}</p>
        <button type="button" class="close pull-right" aria-label="Close" (click)="closeEditVideoForm()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <span class="required_color" *ngIf="constant.errorValidate">{{constant.errorValidation}}</span>
        <form #videoEditForm="ngForm" (ngSubmit)="permissionSetSubmit(videoEditForm)">
            <div class="row form-group">
                <div class="col-md-5 p-0 float-left">
                    <div class="pl-0 form-group select-Courses">
                        <select id="resort" class="form-control p-0" name="resortId"
                            [(ngModel)]="constant.selectedResort" disabled >
                            <!-- <select class="form-control p-0"> -->
                            <option value="null" disabled >Select</option>
                            <option *ngFor="let data of constant.resortList" value="{{data.resortId}}">
                                {{data.resortName  | titlecase}}</option>
                        </select>
                        <span class="required_color" *ngIf="submitted && !constant.selectedResort">
                            {{commonLabels.mandatoryLabels.selectResort}}
                        </span>
                    </div>

                    <div class="pl-0 form-group select-Courses">
                        <ng-multiselect-dropdown [placeholder]="'Department'" name="departmentId"
                            [data]="constant.departmentList" [(ngModel)]="constant.selectedDepartment" (onSelectAll)="onEmpSelect($event,'dept','select',true)" (onDeSelectAll)="onEmpSelect($event,'dept',deselect,true)"
                            [settings]="constant.departmentSettings" (onSelect)="onEmpSelect($event,'dept','select',false)"
                            (onDeSelect)="onEmpSelect($event,'dept','deselect',false)" #departmentId="ngModel" required>
                        </ng-multiselect-dropdown>
                        <span class="required_color" *ngIf="submitted && !constant.selectedDepartment.length">
                            {{commonLabels.mandatoryLabels.dept}}
                        </span>
                    </div>
                </div>
                <div class="col-md-5 p-0 ml-auto">
                    <div class="pl-0 form-group select-Courses">
                        <ng-multiselect-dropdown [placeholder]="'Division'" name="divisionId"
                            (onSelect)="onEmpSelect($event,'div','select',false)" [data]="constant.divisionList" (onSelectAll)="onEmpSelect($event,'div','select',true)" (onDeSelectAll)="onEmpSelect($event,'div',deselect,true)"
                            [(ngModel)]="constant.selectedDivision" [settings]="constant.divisionSettings"
                            (onDeSelect)="onEmpSelect($event,'div','deselect',false)" #divisionId="ngModel" required></ng-multiselect-dropdown>
                        <span class="required_color" *ngIf="submitted && !constant.selectedDivision.length">
                            {{commonLabels.mandatoryLabels.division}}
                        </span>
                    </div>
                    <div class="pl-0 form-group select-Courses">
                        <ng-multiselect-dropdown [placeholder]="'Employees'" name="employeeId"
                            (onSelect)="onEmpSelect($event,'emp','select',false)" (onDeSelect)="onEmpSelect($event,'emp','deselect',false)"
                            [data]="constant.employeeList" [(ngModel)]="constant.selectedEmp" (onSelectAll)="onEmpSelect($event,'emp','select',true)" (onDeSelectAll)="onEmpSelect($event,'emp',deselect,true)"
                            [settings]="constant.empSettings" #empId="ngModel" required></ng-multiselect-dropdown>
                        <span class="required_color" *ngIf="submitted && !constant.selectedEmp.length">
                            {{commonLabels.mandatoryLabels.selectEmp}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="text-center">
                <button type="submit" class="btn btn-primary creat-btn mr-3">{{commonLabels.btns.set}}</button>
            </div>
        </form>
    </div>
</ng-template>

<ng-template #userList>
  <div class="modal-header pb-0">
    <p class="hd-alg">{{commonLabels.labels.userList}}</p>
    <button type="button" class="close pull-right" aria-label="Close" (click)="closeModel()" title="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body text-center">
     <table class="table table-striped">
      <thead>
        <tr class="th-boxshadow">
          <th class="text-left">
            <div class="text-over">{{commonLabels.labels.userName}}</div>
          </th>
          <th class="text-left text-nowrap">
            {{commonLabels.labels.division}}
          </th>
          <th class="text-left text-nowrap">
            {{commonLabels.labels.department}}
          </th>
          <th class="text-center text-nowrap">
            {{commonLabels.labels.status}}
          </th>
        </tr>
      </thead>
      <tbody class=" text-nowrap">
        <tr class="table-desc-color"
          *ngFor="let user of userListData | paginate: {itemsPerPage: userListSize,currentPage: currentPage,totalItems : totalCourseCount};let i = index">
          <td class="text-left">
            <div>{{user?.User?.userName  | titlecase}}</div>
          </td>
          <td class="text-left">{{user?.Division?.divisionName}}</td>
          <td class="text-left">{{user?.Department?.departmentName}}</td>
          <td class="text-left">{{user?.filePermissionType}}</td>
      </tbody>
    </table>
  </div>
  <pagination-controls *ngIf="userListData && userListData.length" class="my-pagination"
    (pageChange)="userPageChanged($event)"></pagination-controls>
</ng-template>