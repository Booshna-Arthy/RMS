<div class="row">
    <div class="col-sm-12 pb-3 p-0">
        <button type = "button" class="btn btn-primary float-right" [routerLink]="['../resorts']"><i class="fa fa-plus pr-2"></i>{{commonLabels.btns.addNew}}</button>
        <div class="dropdown btn-group pull-right export-btn mr-2" *ngIf="resortVar.resortList.length">
            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                {{commonLabels.btns.exportTo}}
            </button>
            <div class="dropdown-menu">
                <a class="dropdown-item pl-3" (click)="exportAsXLSX()">{{commonLabels.btns.excel}}</a>
                <a class="dropdown-item pl-3" (click)="exportAsPDF()">{{commonLabels.btns.pdf}}</a>
            </div>
        </div>
    </div> 

    <div class="col-lg-12 col-sm-12 p-0">                
        <div class="table-responsive white-bg custom-table2" id="resortList">
            <table class="table table-striped" [mfData]="resortVar.resortList" #mf="mfDataTable" [mfRowsOnPage]="10">
                <thead>
                    <tr class="th-boxshadow">
                        <th class="text-left name-txt">
                            <mfDefaultSorter>{{commonLabels.labels.resortName}}</mfDefaultSorter>
                        </th>
                        <th class="text-left">
                            <mfDefaultSorter>{{commonLabels.labels.location}}</mfDefaultSorter>
                        </th>
                        <th class="text-left">
                            <mfDefaultSorter>{{commonLabels.labels.email}}</mfDefaultSorter>
                        </th>
                        <th class="text-left">
                            <mfDefaultSorter>{{commonLabels.labels.mobile}}</mfDefaultSorter>
                        </th>
                        <th class="text-center" *ngIf = "userId === 1">
                                <p class="text-nowrap">{{commonLabels.labels.subscribTyp}}</p>
                        </th>
                        <th class="text-center" *ngIf = "userId === 1">
                                <p class="text-nowrap">{{commonLabels.labels.totalStorage}}</p>
                        </th>
                        <th class="text-center">
                            <mfDefaultSorter>{{commonLabels.labels.status}}</mfDefaultSorter>
                        </th>
                        <th class="text-center">
                            <mfDefaultSorter>{{commonLabels.labels.numberOfUser}}</mfDefaultSorter>
                        </th>
                        <th class="text-center" *ngIf = "userId === 1">
                            <p class="text-nowrap">Expiry due in</p>
                        </th>
                        <th class="text-left">
                                <mfDefaultSorter>{{commonLabels.labels.utilizedSpace}}</mfDefaultSorter>
                            </th>
                        <th class="text-center action-hd"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let resort of mf.data;let i = index" class="table-desc-color">
                        <td class="text-left txt-unline"><a href="javascript:void" (click)="resortDetails(resort.resortId)">{{ resort.resortName }}</a></td>
                        <td class="text-left">{{ resort.location }}</td>
                        <td class="text-left">{{ resort.ResortUserMappings[0]?.User?.email }}</td>
                        <td class="text-left">{{ resort.ResortUserMappings[0]?.User?.phoneNumber }}</td>
                        <td class="text-center" *ngIf = "userId === 1">Economy</td>
                        <td class="text-center" *ngIf = "userId === 1">100 MB</td>
                        <td class="text-center">{{ resort.status }}</td>          
                        <td class="text-center">{{ resort.totalNoOfUsers }}</td>                 
                        <td class="text-center last-dt"  *ngIf = "userId === 1">3 days</td>
                        <td class="text-left">{{ resort.utilizedSpace }}</td>
                        <td class="text-center"><a (click)="resortDetails(resort.resortId)" title="Edit"><i class="fas fa-pencil-alt"></i></a>
                            <a title="Delete" (click)="removeResort(deleteResort,resort.resortId)"><i class="fa fa-trash header-icon"></i></a>
                            <a title="Active/Inactive" class="mr-4"><label class="switch">
                                    <input type="checkbox" [checked]="resort.status === 'Active' ? true : false" (change) = "statusUpdate(i,resort.resortId,resort.status)"> 
                                    <span class="slider round"></span>
                                </label></a>
                        </td> 
                    </tr>
                    <tr *ngIf="mf.data?.length == 0">
                        <td colspan="10"><p class="text-center data-design p-5"><span class="nodata"><i class="far fa-frown nodata-img"></i>{{commonLabels.labels.noData}}</span></p></td>
                    </tr>
                </tbody>    
            </table>
        </div>
    </div>
</div>
<ng-template #deleteResort>
    <div class="modal-header pb-0">
        <p class="hd-alg">{{commonLabels.labels.deleteResort}}</p>
        <button type="button" class="close pull-right" aria-label="Close" (click)="resortVar.modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body text-center">
        <span class="text-content">{{commonLabels.labels.deleteResortConfirmation}}</span>
        <div class="text-center mt-4">
            <button type="button" class="btn btn-primary creat-btn mr-3" (click)="deleteResortAPI()">{{commonLabels.btns.ok}}</button>
            <button type="button" class="btn btn-default" (click)="resortVar.modalRef.hide()">{{commonLabels.btns.cancel}}</button>
        </div>
    </div>
</ng-template>