<div class="">
    <div class="float-left">{{pageTitle}}</div>
    <div class="float-right row pb-3 pr-2 adduser-respon noPrint">
      <div class="dropdown btn-group pull-right export-btn mr-2" >
        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
          {{commonLabels.btns.exportTo}}
        </button>
        <div class="dropdown-menu">
          <!-- <a class="dropdown-item pl-3" (click)="exportAsXLSX()">{{commonLabels.btns.excel}}</a> -->
          <a class="dropdown-item pl-3" (click)="exportAsPDF()">{{commonLabels.btns.pdf}}</a>
        </div>
      </div>
        <button type = "button" class="btn btn-primary float-right mr-2" (click)="onPrint()"><i class="fas fa-print pr-2"></i>Print</button>
      <div class="filter-search">
          <form class="search-container clearfix" (ngSubmit)="getBadgeList()">
            <input type="text" placeholder="Search Keyword.." name="search" [(ngModel)]="search" class="user-searchbox" >
            <button type="submit"  class="user-search-icon"><i class="fa fa-search search-icon"></i></button>
          </form>
      </div>
    </div>
    <div class="table-responsive custom-table2 mt-3">
          <p *ngIf="totalCount" class="count-wrapper">{{commonLabels.labels.total}}: {{totalCount}}</p>
      <table class="table white-bg table-cls-alg" [mfData]="badgeList" #mf="mfDataTable" [mfRowsOnPage]="10" id="certificationDetail">
        <thead>
          <tr class="th-boxshadow text-center">
            <th>User Name</th>
            <th>Score</th>
            <th>Training class</th>
            <th>Badge received</th>
          </tr>
        </thead>
        <tbody *ngFor="let item of mf.data;let i=index;">
          <tr class="video-trend-desc text-center certificate" >
            <td class="vdo-desc-height"  [attr.rowspan]=item.CertificateUserMappings.length+1>{{item.userName}}</td>
            <td class="vdo-desc-height"  [attr.rowspan]=item.CertificateUserMappings.length+1>{{calculateAvgScore(item.CertificateUserMappings)}}</td>
          </tr>
          <tr *ngFor="let badge of item.CertificateUserMappings;let i = index" [ngClass]=" (i%2 == 0 && i !=  (item.CertificateUserMappings.length-1)) ? 'video-trend-desc text-center certificate bbs-1' : 'video-trend-desc text-center certificate bbsw-1'">
            <td class="vdo-desc-height" *ngIf="badge.TrainingClass">{{badge.TrainingClass.trainingClassName}}</td>
            <td class="vdo-desc-height">
              <span *ngIf="badge.Badge">{{badge.Badge.badgeName}} </span>
              <span *ngIf="!badge.Badge">-</span>
              </td>
          </tr>
        </tbody>
        <tbody *ngIf="badgeList?.length == 0">
          <tr>
            <td colspan="10">
              <p class="text-center data-design p-5">
                <span class="nodata"><i class="far fa-frown nodata-img"></i>Nodata</span></p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-md-12 p-0 text-center mt-3 noPrint">
      <button class="btn btn-primary creat-btn" routerLink="/certification/trend">Back</button>
    </div>
</div>
    