
<!-- <ng-http-loader backgroundColor="#ff0000" spinner="sk-wave"></ng-http-loader> -->
<div class="pr-3 pt-3" id="contentToConvert">
    <!-- <p *ngIf="message" class="sucess-msg"><i class="fa fa-check-circle upload-crt-icon" aria-hidden="true" (click)="messageClose()"></i>{{message}}</p> -->
    <div class="float-right row pb-3 adduser-respon">
        <span class="pr-2"><a class = "btn btn-primary br-btn" (click)="addUser()">Add User</a></span>
        <span class="pagenation-btn"><ngx-select-dropdown [options]="pageLimitOptions" [(value)]="pageLimit" [config]="{placeholder : 'Limit'}" class="pagenation-dropdown"></ngx-select-dropdown></span>
    </div>
        <form class="table-responsive custom-table2 px-1" #userForm = "ngForm">
          <table class="table table-striped white-bg mt-1" [mfData]="constant.userList" #mf="mfDataTable" [mfRowsOnPage]="pageLimit.length ? pageLimit[0] : 5">
              <thead>
              <tr class="th-boxshadow text-center">
                    <th>
                            <mfDefaultSorter by="employeeId">{{labels.employeeId}}</mfDefaultSorter>
                      </th>
                  <th>
                      <mfDefaultSorter by="employeeName">{{labels.userName}}<span class="ml-2"><img src="assets/images/sortby.png" class="s-width"></span></mfDefaultSorter>
                  </th>
                  <th>
                        <mfDefaultSorter by="department">{{labels.department}}</mfDefaultSorter>
                  </th>
                  <th>
                      <mfDefaultSorter by="designation">{{labels.designation}}</mfDefaultSorter>
                  </th>
                  <th>
                      <mfDefaultSorter by="emailId">{{labels.email}}</mfDefaultSorter>
                  </th>
                  <th>
                      <mfDefaultSorter by="mobile">{{labels.mobile}}</mfDefaultSorter>
                  </th>
                  <th>
                    <mfDefaultSorter></mfDefaultSorter>
                </th>
                <th>
                    <mfDefaultSorter></mfDefaultSorter>
                </th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let user of mf.data,index as i" class="table-desc-color">
                    <td class="vat text-center"><label *ngIf="!user.editEnable">{{ user.employeeId }}</label><span><input  *ngIf="user.editEnable" type="text" class="form-control" placeholder="Enter User ID" [(ngModel)]="userId" name="userId" #user = "ngModel" (keyup)="validationUpdate('userId')"/><span class="required_color" *ngIf="videoSubmitted && user.editEnable && !userId">Employee Id is required</span><span class="required_color" *ngIf="videoSubmitted && user.editEnable && userId && validUserId">User ID already exist</span></span></td>
                  <td class="vat text-center"><label *ngIf="!user.editEnable">{{ user.employeeName }}</label><span><input  *ngIf="user.editEnable" type="text" class="form-control" placeholder="Enter User Name" [(ngModel)]="userName" name="userName" #user = "ngModel" /><span class="required_color" *ngIf="videoSubmitted && user.editEnable && !userName">Employee name is required</span></span></td>
                  <td class="vat text-center"><label *ngIf="!user.editEnable">{{ user.department }}</label><span>
                        <!-- <input *ngIf="user.editEnable" type="text" class="form-control" placeholder="Enter Department" [(ngModel)]="department " name="department " #departmentName = "ngModel" /> -->
                        <select *ngIf="user.editEnable" [(ngModel)]="department" (ngModelChange)="designationUpdate($event)" name="department" >
                              <option [value]="null">Select</option>    
                              <option *ngFor="let obj of departmentArray" [value]="obj.department">{{obj.department}}</option>
                          </select>
                        <span class="required_color" *ngIf="videoSubmitted && user.editEnable && !department">Department name is required</span></span>
                    </td>
                  <td class="vat text-center"><label *ngIf="!user.editEnable">{{ user.designation }}</label><span>
                    <select *ngIf="user.editEnable" [(ngModel)]="designation" name="designation">
                        <option [value]="null">Select</option>   
                        <option *ngFor="let obj of designationData" [value]="obj.name">{{obj.name}}</option>
                    </select>
                    <span class="required_color" *ngIf="videoSubmitted && user.editEnable && !designation"> Designation  name is required</span></span>
                   </td>
                  <td class="vat text-center"><label *ngIf="!user.editEnable">{{ user.emailId }}</label><span><input *ngIf="user.editEnable" type="email" class="form-control" placeholder="Enter Email" [(ngModel)]="emailAddress" name="emailAddress" #email = "ngModel" (keyup)="validationUpdate('email')" /><span class="required_color" *ngIf="videoSubmitted && user.editEnable && !emailAddress" >Email Id is required</span><span class="required_color" *ngIf="videoSubmitted && user.editEnable && emailAddress && validEmail">Invalid Email</span></span></td>
                  <td class="vat text-center"><label *ngIf="!user.editEnable">{{ user.mobile }}</label><span><input *ngIf="user.editEnable" type="text" class="form-control" placeholder="Enter Mobile Number" [(ngModel)]="phoneNumber" name="phoneNumber" #mobile = "ngModel" (keyup)="validationUpdate('mobile')"/><span class="required_color" *ngIf="videoSubmitted && user.editEnable && !phoneNumber" >Mobile number is required</span><span class="required_color" *ngIf="videoSubmitted &&  user.editEnable && phoneNumber && validPhone">Invalid Mobile number</span></span></td>
                  <td class="vat text-center"><a *ngIf="!user.editEnable" (click)="userEdit(user,i)"><i class="fa fa-pencil header-icon"></i></a><a *ngIf="user.editEnable" (click)="userUpdate(user,i)"><i class="fa fa-check upload-crt-icon" aria-hidden="true"></i></a></td>
                  <td class="vat text-center"><a *ngIf="!user.editEnable" (click)="removeUser(user,i)"><i class="fa fa-trash header-icon"></i></a><a *ngIf="user.editEnable" (click)="cancelEdit(user,i)"><i class="fa fa-times upload-wrg-icon" aria-hidden="true"></i></a></td>
              </tr>
              <tr *ngIf="mf.data?.length == 0">
                  <td colspan="10" class="text-center data-design">No data</td>
              </tr>
              </tbody>
              <tfoot>
              <tr data-html2canvas-ignore="true">
                  <td colspan="10">
                      <mfBootstrapPaginator></mfBootstrapPaginator>
                  </td>
              </tr>
              </tfoot>
          </table>
        </form>
    </div>
  