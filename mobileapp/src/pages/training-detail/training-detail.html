<ion-content padding class="page-training-detail">
    <ion-header no-border>
        <ion-toolbar transparent class="details-page-toolbar title-type2" (click)="goBackLevel()">
            <span class="back-arrow" > 
                <img src="assets/imgs/Back.png" />
            </span>
            <ion-title class="text-left ">
                <span class="inner-title">{{trainingClassName}}</span>
            </ion-title>
        </ion-toolbar>
    </ion-header>
  
<div class="inner-content" *ngIf="setTraining">
    <div class="training-det">
        <div class="image-tag" *ngIf="imageType">
            <img src="{{showPreView}}" alt="image" class="inner-image">
        </div>

        <div class="video-tag" *ngIf="!imageType">
            <video #videoTag id="video-width" autoplay (ended)="videoEnded()" (error)="videoFailed(event)" class="video-width" controls="controls" preload="metadata" webkit-playsinline="webkit-playsinline"
            playsinline class="videoPlayer" poster="{{uploadPath}}{{setTraining.fileImage}}">
            <source src="{{showPreView}}" type="video/mp4" />
        </video>
       </div>
    <div class="training-block">
        <div class="loading-bar-div">
            <div class="loading-bar">
                <span class="video-progress-bar" [ngClass]="{'playedProgressBar': i <= initial}" [ngStyle]="{'width.%': loadingBarWidth}"
                *ngFor="let trainingVideo of trainingDatas; let i = index">
                <p>{{i}}</p>
            </span>
        </div>
        <span class="loading-bar-percentage">
            <p>{{Math.round(loadingBarWidth * (initial+1))}}<span>%</span></p>
        </span>
    </div>
    
    <ion-card-title ><ion-grid no-padding class="">

            <ion-row>
                <ion-col col-8>
                    <h6>{{setTraining.fileName}} </h6>
                </ion-col>
                <ion-col col-4>
                        <span class="view-button" *ngIf="imageType">
                                <ion-icon name="eye" class="eye-icon"></ion-icon> <a href="javascript:void(0);" class="view-text"
                                (click)="viewContent(filePath)">View Content </a>
                            </span>
                </ion-col>
            </ion-row>  
        </ion-grid>
    </ion-card-title>
    

    <!-- <div class="checkbox-item clearfix" *ngIf="imageType">
        <label class="hole-cont mr-2">
            <input type="checkbox" [(ngModel)]="agree"  name="options" > 
            {{constant.pages.trainingLabels.ackText}}<a href="">{{constant.pages.trainingLabels.document}}</a>
            <span class="checkmark"></span>
        </label>


    </div> -->
    <div *ngIf="text" class="quiz-text">
        <div *ngIf="text.length <= 400">{{text}}</div>
        <div *ngIf="truncating && text.length > 400">
            {{text | words : limit}}
            <a href="javascript:void(0);" (click)="truncating = false">
            {{constant.pages.trainingLabels.readMore}}</a>
        </div>
        <div *ngIf="!truncating && text.length > 400">
            {{text}}
            <a href="javascript:void(0);" (click)="truncating = true">
                {{constant.pages.trainingLabels.readLess}}
            </a> </div>
        </div> 
        <div class="clearfix pt-4">
            <div class="float-left">
                <a class="prev-btn" href="javascript:void(0);" (click)="goBackLevel()"  *ngIf="!prevBtn"> << {{constant.buttons.previous}}</a>   
            </div>
            <div class="float-right">
                <a  class="next-btn" href="javascript:void(0);" (click)="showNextPage()" *ngIf="!quizBtn"> >> {{constant.buttons.next}}</a>
            </div>
        </div>

    </div>
</div>
</div>
<!-- <div class="ver-bottom">
    <div class="take-quiz-btn" (click)="showNextPage()" *ngIf="!quizBtn">
        {{constant.buttons.next}}
    </div>

    <div class="take-quiz-btn" (click)="goToQuizPage()" *ngIf="quizBtn">
        {{constant.buttons.takeQuiz}}
    </div>
</div> -->

<div class="ver-bottom clearfix">
    <!-- <a class="prev-btn" href="javascript:void(0);" (click)="goBackLevel()"  *ngIf="!prevBtn"> << {{constant.buttons.previous}}</a> -->
    <!-- <a  class="next-btn" href="javascript:void(0);" (click)="showNextPage()" *ngIf="!quizBtn"> >> {{constant.buttons.next}}</a> -->
    <div class="take-quiz-btn" (click)="goToQuizPage()"  *ngIf="status !== 'completed'"> 
        {{constant.buttons.takeQuiz}}
    </div>
</div>



</ion-content>